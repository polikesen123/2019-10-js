<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    
</body>
</html>
<script>
    /*
        正则  匹配  捕获
        var reg = /^\d$/
        var reg = /\d/
        ()小分组

        方法都在正则类的原型上
        test
        exec
            global
            ignoreCase
            mutiline
        捕获的懒惰性  g
        捕获的贪婪性  在量词之后加一个?
    */ 
    // var reg = /\d+/;
    // var str = '珠峰2019培训2020';
    // //每一个正则都会有一个私有的lastIndex属性 ,没有g 则每月一次的lastIndex都是0，有g 之后 ，下一次的lastIndex是上一次捕获结束的位置
    // //若正则匹配不到，则返回的是null
    // reg.exec(str);//[2019]
    // reg.exec(str);//[2019]
    // reg.exec(str);//[2019]
    // //exec的返回值 是一个数组  数组中的第一项是大正则捕获的内容,第二项及以后分别对应各个小分组对应的内容
    // var reg = /([a-z]+)(\d+)/;
    // var str = '珠峰2019培训zf2020';
    // reg.exec(str);//['zf2020','zf','2020']
    RegExp.prototype.execAll = function(str){
        var _this = this;//this不能直接参与
        if(!this.global){
            _this = eval(_this+'g');
        }
        let res = _this.exec(str);
        let ary = [];
        while(res){
            ary.push(res);
            res = _this.exec(str);
        }
        return ary;
    }
    var reg = /(\d)+/;
    var str = '珠峰2019培训zf2020';
    console.log(reg.execAll(str));
</script>