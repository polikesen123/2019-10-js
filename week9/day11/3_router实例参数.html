<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>

<body>
    <div id="app">
        <h1>{{name}}</h1>
        <!-- 
            两个类名
             1\router-link-exact-active
             2\router-link-active
             exact 类名 只有当路径、参数与地址栏中的一模一样时  才会加上这个类名
             若路径一样 但是参数值不一样时  只有2类名
             若路径一样 ,参数个数也一样但是参数名不一样 则两个类名都不加
             若路径一样 但是参数个数少了若干个 存在的参数名一样 则有2类名

         -->
        <router-view></router-view>
        <router-link to="/home?a=34&b=54">首页</router-link>
        <router-link to="/home?a=11">首页</router-link>
        <router-link :to="{name:'list',query:obj}">列表页</router-link>
    </div>

</body>

</html>
<script src="../node_modules/vue/dist/vue.js"></script>
<script src="../node_modules/vue-router/dist/vue-router.js"></script>
<script>
    Vue.use(VueRouter);
    /* 
        路由映射表 是个数组
        router-link  to   tag  query  
        router-view
        $router  $route
    */
    let home = {
        template: "<h2>首页</h2>",
        created() {
            console.log(this.$route.query)
        },
    }
    let list = {
        template: "<h2>列表页</h2>",
        created() {
            console.log(this)
        },
    }
    let page404 = {
        template: '<h2>404</h2>'
    }
    //路由的匹配是从上到下  从外到里的  page404一般都是放到最后
    const routes = [
        {
            path:'/',
            redirect:'/list'//一打开页面就跳到指定页面 不会出现空页面 /的路径
        },
        {
            path: '/home',
            name: 'home',
            component: home
        },
        {
            path: '/list',
            name: 'list',
            component: list
        },
       /*  {
            //创造404页
            path: '/*',
            component: page404
        }, */
       /*  {
            //重定向
            path:'*',
            redirect:'/home',//凡是匹配不到的路径  统一转到home路径
        } */
        //404 和重定向写一个
    ]
    let router = new VueRouter({
        //所有的激活类名都被换成指定的字符,写在行内的那些只能更改当前的那个元素  改不了其他的 这里的优先级没有行内的高
        linkActiveClass: 'qqq', //默认 router-link-active
        linkExactActiveClass: 'aaa', //默认router-link-exact-active
        routes,
        mode: 'hash', //默认hash  history 必须要让后台支持(不能刷新  刷新就报错 找不到页面路径)  让后台把你定义的这些路径 都返回你的页面 不要返回404
    })

    let vm = new Vue({
        el: '#app',
        router,
        data: {
            name: "珠峰",
            obj: {
                a: 12,
                b: 23,
                c: 34
            }
        }
    });

    /* 
        激活类名:linkActiveClass  linkExactActiveClass
        mode:history hash  history模式需要后台配合
        404页面怎么创建 path:'*'
        重定向怎么做  redirect
    */
</script>